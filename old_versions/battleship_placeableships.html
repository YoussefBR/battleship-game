<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Battleship Game</title>
    <style>
        .board-container {
            display: flex;
        }

        .player-1-board, .player-2-board {
            display: grid;
            grid-template-columns: repeat(10, 30px);
            grid-gap: 2px;
            margin-right: 20px;
        }

        .cell {
            width: 30px;
            height: 30px;
            border: 1px solid #ccc;
        }

        .empty-cell {
            background-color: white;
        }

        .ship-cell-1 {
            background-color: blue;
        }

        .ship-cell-2 {
            background-color: red;
        }

        .ships-container {
            display: flex;
            flex-direction: column;
            margin-top: 20px;
        }

        .ship {
            display: flex;
            cursor: grab;
            margin-bottom: 10px;
        }

        .ship .cell {
            margin-right: 2px;
        }

        .locked {
            cursor: default;
        }
    </style>
</head>
<body>

<h1>Battleship</h1>
<p>Player 1 and player 2's ships are marked with blue and red squares respectively. Successful ship hits are marked with 'X's and misses are marked as black squares.</p>

<div class="board-container">
    <div class="player-1-board">
        <div class="cell empty-cell" id="p1-1"></div>
        <div class="cell empty-cell" id="p1-2"></div>
        <div class="cell empty-cell" id="p1-3"></div>
        <div class="cell empty-cell" id="p1-4"></div>
        <div class="cell empty-cell" id="p1-5"></div>
        <div class="cell empty-cell" id="p1-6"></div>
        <div class="cell empty-cell" id="p1-7"></div>
        <div class="cell empty-cell" id="p1-8"></div>
        <div class="cell empty-cell" id="p1-9"></div>
        <div class="cell empty-cell" id="p1-10"></div>
        <div class="cell empty-cell" id="p1-11"></div>
        <div class="cell empty-cell" id="p1-12"></div>
        <div class="cell empty-cell" id="p1-13"></div>
        <div class="cell empty-cell" id="p1-14"></div>
        <div class="cell empty-cell" id="p1-15"></div>
        <div class="cell empty-cell" id="p1-16"></div>
        <div class="cell empty-cell" id="p1-17"></div>
        <div class="cell empty-cell" id="p1-18"></div>
        <div class="cell empty-cell" id="p1-19"></div>
        <div class="cell empty-cell" id="p1-20"></div>
        <div class="cell empty-cell" id="p1-21"></div>
        <div class="cell empty-cell" id="p1-22"></div>
        <div class="cell empty-cell" id="p1-23"></div>
        <div class="cell empty-cell" id="p1-24"></div>
        <div class="cell empty-cell" id="p1-25"></div>
        <div class="cell empty-cell" id="p1-26"></div>
        <div class="cell empty-cell" id="p1-27"></div>
        <div class="cell empty-cell" id="p1-28"></div>
        <div class="cell empty-cell" id="p1-29"></div>
        <div class="cell empty-cell" id="p1-30"></div>
        <div class="cell empty-cell" id="p1-31"></div>
        <div class="cell empty-cell" id="p1-32"></div>
        <div class="cell empty-cell" id="p1-33"></div>
        <div class="cell empty-cell" id="p1-34"></div>
        <div class="cell empty-cell" id="p1-35"></div>
        <div class="cell empty-cell" id="p1-36"></div>
        <div class="cell empty-cell" id="p1-37"></div>
        <div class="cell empty-cell" id="p1-38"></div>
        <div class="cell empty-cell" id="p1-39"></div>
        <div class="cell empty-cell" id="p1-40"></div>
        <div class="cell empty-cell" id="p1-41"></div>
        <div class="cell empty-cell" id="p1-42"></div>
        <div class="cell empty-cell" id="p1-43"></div>
        <div class="cell empty-cell" id="p1-44"></div>
        <div class="cell empty-cell" id="p1-45"></div>
        <div class="cell empty-cell" id="p1-46"></div>
        <div class="cell empty-cell" id="p1-47"></div>
        <div class="cell empty-cell" id="p1-48"></div>
        <div class="cell empty-cell" id="p1-49"></div>
        <div class="cell empty-cell" id="p1-50"></div>
        <div class="cell empty-cell" id="p1-51"></div>
        <div class="cell empty-cell" id="p1-52"></div>
        <div class="cell empty-cell" id="p1-53"></div>
        <div class="cell empty-cell" id="p1-54"></div>
        <div class="cell empty-cell" id="p1-55"></div>
        <div class="cell empty-cell" id="p1-56"></div>
        <div class="cell empty-cell" id="p1-57"></div>
        <div class="cell empty-cell" id="p1-58"></div>
        <div class="cell empty-cell" id="p1-59"></div>
        <div class="cell empty-cell" id="p1-60"></div>
        <div class="cell empty-cell" id="p1-61"></div>
        <div class="cell empty-cell" id="p1-62"></div>
        <div class="cell empty-cell" id="p1-63"></div>
        <div class="cell empty-cell" id="p1-64"></div>
        <div class="cell empty-cell" id="p1-65"></div>
        <div class="cell empty-cell" id="p1-66"></div>
        <div class="cell empty-cell" id="p1-67"></div>
        <div class="cell empty-cell" id="p1-68"></div>
        <div class="cell empty-cell" id="p1-69"></div>
        <div class="cell empty-cell" id="p1-70"></div>
        <div class="cell empty-cell" id="p1-71"></div>
        <div class="cell empty-cell" id="p1-72"></div>
        <div class="cell empty-cell" id="p1-73"></div>
        <div class="cell empty-cell" id="p1-74"></div>
        <div class="cell empty-cell" id="p1-75"></div>
        <div class="cell empty-cell" id="p1-76"></div>
        <div class="cell empty-cell" id="p1-77"></div>
        <div class="cell empty-cell" id="p1-78"></div>
        <div class="cell empty-cell" id="p1-79"></div>
        <div class="cell empty-cell" id="p1-80"></div>
        <div class="cell empty-cell" id="p1-81"></div>
        <div class="cell empty-cell" id="p1-82"></div>
        <div class="cell empty-cell" id="p1-83"></div>
        <div class="cell empty-cell" id="p1-84"></div>
        <div class="cell empty-cell" id="p1-85"></div>
        <div class="cell empty-cell" id="p1-86"></div>
        <div class="cell empty-cell" id="p1-87"></div>
        <div class="cell empty-cell" id="p1-88"></div>
        <div class="cell empty-cell" id="p1-89"></div>
        <div class="cell empty-cell" id="p1-90"></div>
        <div class="cell empty-cell" id="p1-91"></div>
        <div class="cell empty-cell" id="p1-92"></div>
        <div class="cell empty-cell" id="p1-93"></div>
        <div class="cell empty-cell" id="p1-94"></div>
        <div class="cell empty-cell" id="p1-95"></div>
        <div class="cell empty-cell" id="p1-96"></div>
        <div class="cell empty-cell" id="p1-97"></div>
        <div class="cell empty-cell" id="p1-98"></div>
        <div class="cell empty-cell" id="p1-99"></div>
        <div class="cell empty-cell" id="p1-100"></div>

    </div>
    

    <div class="player-2-board">
        <div class="cell empty-cell" id="p2-1"></div>
        <div class="cell empty-cell" id="p2-2"></div>
        <div class="cell empty-cell" id="p2-3"></div>
        <div class="cell empty-cell" id="p2-4"></div>
        <div class="cell empty-cell" id="p2-5"></div>
        <div class="cell empty-cell" id="p2-6"></div>
        <div class="cell empty-cell" id="p2-7"></div>
        <div class="cell empty-cell" id="p2-8"></div>
        <div class="cell empty-cell" id="p2-9"></div>
        <div class="cell empty-cell" id="p2-10"></div>
        <div class="cell empty-cell" id="p2-11"></div>
        <div class="cell empty-cell" id="p2-12"></div>
        <div class="cell empty-cell" id="p2-13"></div>
        <div class="cell empty-cell" id="p2-14"></div>
        <div class="cell empty-cell" id="p2-15"></div>
        <div class="cell empty-cell" id="p2-16"></div>
        <div class="cell empty-cell" id="p2-17"></div>
        <div class="cell empty-cell" id="p2-18"></div>
        <div class="cell empty-cell" id="p2-19"></div>
        <div class="cell empty-cell" id="p2-20"></div>
        <div class="cell empty-cell" id="p2-21"></div>
        <div class="cell empty-cell" id="p2-22"></div>
        <div class="cell empty-cell" id="p2-23"></div>
        <div class="cell empty-cell" id="p2-24"></div>
        <div class="cell empty-cell" id="p2-25"></div>
        <div class="cell empty-cell" id="p2-26"></div>
        <div class="cell empty-cell" id="p2-27"></div>
        <div class="cell empty-cell" id="p2-28"></div>
        <div class="cell empty-cell" id="p2-29"></div>
        <div class="cell empty-cell" id="p2-30"></div>
        <div class="cell empty-cell" id="p2-31"></div>
        <div class="cell empty-cell" id="p2-32"></div>
        <div class="cell empty-cell" id="p2-33"></div>
        <div class="cell empty-cell" id="p2-34"></div>
        <div class="cell empty-cell" id="p2-35"></div>
        <div class="cell empty-cell" id="p2-36"></div>
        <div class="cell empty-cell" id="p2-37"></div>
        <div class="cell empty-cell" id="p2-38"></div>
        <div class="cell empty-cell" id="p2-39"></div>
        <div class="cell empty-cell" id="p2-40"></div>
        <div class="cell empty-cell" id="p2-41"></div>
        <div class="cell empty-cell" id="p2-42"></div>
        <div class="cell empty-cell" id="p2-43"></div>
        <div class="cell empty-cell" id="p2-44"></div>
        <div class="cell empty-cell" id="p2-45"></div>
        <div class="cell empty-cell" id="p2-46"></div>
        <div class="cell empty-cell" id="p2-47"></div>
        <div class="cell empty-cell" id="p2-48"></div>
        <div class="cell empty-cell" id="p2-49"></div>
        <div class="cell empty-cell" id="p2-50"></div>
        <div class="cell empty-cell" id="p2-51"></div>
        <div class="cell empty-cell" id="p2-52"></div>
        <div class="cell empty-cell" id="p2-53"></div>
        <div class="cell empty-cell" id="p2-54"></div>
        <div class="cell empty-cell" id="p2-55"></div>
        <div class="cell empty-cell" id="p2-56"></div>
        <div class="cell empty-cell" id="p2-57"></div>
        <div class="cell empty-cell" id="p2-58"></div>
        <div class="cell empty-cell" id="p2-59"></div>
        <div class="cell empty-cell" id="p2-60"></div>
        <div class="cell empty-cell" id="p2-61"></div>
        <div class="cell empty-cell" id="p2-62"></div>
        <div class="cell empty-cell" id="p2-63"></div>
        <div class="cell empty-cell" id="p2-64"></div>
        <div class="cell empty-cell" id="p2-65"></div>
        <div class="cell empty-cell" id="p2-66"></div>
        <div class="cell empty-cell" id="p2-67"></div>
        <div class="cell empty-cell" id="p2-68"></div>
        <div class="cell empty-cell" id="p2-69"></div>
        <div class="cell empty-cell" id="p2-70"></div>
        <div class="cell empty-cell" id="p2-71"></div>
        <div class="cell empty-cell" id="p2-72"></div>
        <div class="cell empty-cell" id="p2-73"></div>
        <div class="cell empty-cell" id="p2-74"></div>
        <div class="cell empty-cell" id="p2-75"></div>
        <div class="cell empty-cell" id="p2-76"></div>
        <div class="cell empty-cell" id="p2-77"></div>
        <div class="cell empty-cell" id="p2-78"></div>
        <div class="cell empty-cell" id="p2-79"></div>
        <div class="cell empty-cell" id="p2-80"></div>
        <div class="cell empty-cell" id="p2-81"></div>
        <div class="cell empty-cell" id="p2-82"></div>
        <div class="cell empty-cell" id="p2-83"></div>
        <div class="cell empty-cell" id="p2-84"></div>
        <div class="cell empty-cell" id="p2-85"></div>
        <div class="cell empty-cell" id="p2-86"></div>
        <div class="cell empty-cell" id="p2-87"></div>
        <div class="cell empty-cell" id="p2-88"></div>
        <div class="cell empty-cell" id="p2-89"></div>
        <div class="cell empty-cell" id="p2-90"></div>
        <div class="cell empty-cell" id="p2-91"></div>
        <div class="cell empty-cell" id="p2-92"></div>
        <div class="cell empty-cell" id="p2-93"></div>
        <div class="cell empty-cell" id="p2-94"></div>
        <div class="cell empty-cell" id="p2-95"></div>
        <div class="cell empty-cell" id="p2-96"></div>
        <div class="cell empty-cell" id="p2-97"></div>
        <div class="cell empty-cell" id="p2-98"></div>
        <div class="cell empty-cell" id="p2-99"></div>
        <div class="cell empty-cell" id="p2-100"></div>
    </div>
</div>

<div class="ships-container">
    <div class="ship" draggable="true" id="ship-1">
        <div class="cell ship-cell-1"></div>
    </div>
    <div class="ship" draggable="true" id="ship-2">
        <div class="cell ship-cell-2"></div>
        <div class="cell ship-cell-2"></div>
    </div>
    <div class="ship" draggable="true" id="ship-3">
        <div class="cell ship-cell-2"></div>
        <div class="cell ship-cell-2"></div>
        <div class="cell ship-cell-2"></div>
    </div>
    <div class="ship" draggable="true" id="ship-4">
        <div class="cell ship-cell-1"></div>
        <div class="cell ship-cell-1"></div>
        <div class="cell ship-cell-1"></div>
        <div class="cell ship-cell-1"></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', (event) => {
        let dragged;

        document.addEventListener('dragstart', (event) => {
            if (event.target.classList.contains('locked')) {
                event.preventDefault();
                return;
            }
            dragged = event.target;
            event.target.style.opacity = .5;
        });

        document.addEventListener('dragend', (event) => {
            event.target.style.opacity = "";
        });

        document.addEventListener('dragover', (event) => {
            event.preventDefault();
        });

        document.addEventListener('dragleave', (event) => {
            if (event.target.classList.contains('empty-cell')) {
                event.target.style.background = "";
            }
        });

        document.addEventListener('drop', (event) => {
            event.preventDefault();
            const isPlayer1Board = event.target.parentElement.classList.contains('player-1-board');
            const isPlayer2Board = event.target.parentElement.classList.contains('player-2-board');
            const isBlueShip = dragged.querySelector('.ship-cell-1') !== null;
            const isRedShip = dragged.querySelector('.ship-cell-2') !== null;

            if (event.target.classList.contains('empty-cell')) {
                if ((isPlayer1Board && isBlueShip) || (isPlayer2Board && isRedShip)) {
                    const dropTarget = event.target;
                    const shipCells = Array.from(dragged.children);

                    const dropIndex = parseInt(dropTarget.id.split('-')[1]);
                    const boardIdPrefix = dropTarget.id.split('-')[0] + '-';

                    // Place each cell of the ship into corresponding cells on the board
                    shipCells.forEach((cell, index) => {
                        const targetCell = document.getElementById(boardIdPrefix + (dropIndex + index));
                        if (targetCell && targetCell.classList.contains('empty-cell')) {
                            targetCell.classList.remove('empty-cell');
                            targetCell.classList.add(cell.classList.contains('ship-cell-1') ? 'ship-cell-1' : 'ship-cell-2');
                            targetCell.appendChild(cell.cloneNode(true));
                        }
                    });

                    dragged.remove();
                }
            }
        });
    });
</script>

</body>
</html>